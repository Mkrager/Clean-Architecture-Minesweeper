@using Minesweeper.App.ViewModels;
@model GameStateViewModel;

<h2 style="text-align:center;">Easy level</h2>

<table>
    @for (int y = 0; y < 10; y++)
    {
        <tr>
            @for (int x = 0; x < 10; x++)
            {
                var cell = Model.Cells.FirstOrDefault(c => c.X == x && c.Y == y);
                if (cell != null)
                {
                    @if (cell.IsOpened)
                    {
                        <td class="opened">
                            <div>
                                @if(cell.HasMine)
                                {
                                    <img src="~/lib/cells/cellmine.svg" alt="Cellmine" width="24" height="24" />
                                }
                                @if(cell.IsOpened)
                                {
                                    <img src="~/lib/cells/celldown.svg" alt="Celldown" width="24" height="24" />
                                }
                            </div>
                        </td>
                    }
                    else
                    {
                        <td class="closed">
                            <a asp-controller="minesweeper"
                               asp-action="openCell"
                               asp-route-gameId="@Model.GameId"
                               asp-route-x="@cell.X"
                               asp-route-y="@cell.Y">
                                <img src="~/lib/cells/cellup.svg" alt="Cellup" width="24" height="24" />
                            </a>
                        </td>
                    }
                }
                else
                {
                    <td class="null-cell">NULL</td>
                }
            }
        </tr>
    }
</table>
